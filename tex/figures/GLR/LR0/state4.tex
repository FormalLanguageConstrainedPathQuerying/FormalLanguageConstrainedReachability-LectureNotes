\begin{tikzpicture}[> = stealth,node distance=3.25cm, on grid, scale=0.8, every node/.style={scale=0.8}]
  \node[draw=none, fill=none] at (-1.4, 1.2)  {0};
  \node[draw=none, fill=none] at (3.1, 0.55)  {1};
  \node[draw=none, fill=none] at (7.1, 0.55)  {2};
  \node[draw=none, fill=none] at (-1.4, -1.8) {3};
  \node[draw=none, fill=none] at (2.9, -2.5)  {4};
  \node[r_state] (s_0)
  {
    $
    \begin{aligned}
      S' &\to \cdot S \$ \\
      S  &\to \cdot a S b S \\
      S  &\to \cdot
    \end{aligned}
    $
  };
  \node[r_state] (s_1) [right=of s_0]
  {
    $ S' \to S \cdot \$ $
  };
  \node[r_state] (s_2) [right=of s_1]
  {
    $ S' \to S \$ \cdot $
  };
  \node[r_state] (s_3) [below=2.5cm of s_0]
  {
    $
    \begin{aligned}
      S  &\to a \cdot S b S \\
      S  &\to \cdot a S b S \\
      S  &\to \cdot
    \end{aligned}
    $
  };
  \node[r_state] (s_4) [right=of s_3]
  {
    $ S \to a S \cdot b S$
  };

  \path[->]
    (s_0) edge [left]                 node {$a$}  (s_3)
          edge [above]                node {$S$}  (s_1)
    (s_1) edge [above]                node {$\$$} (s_2)
    (s_3) edge [above]                node {$S$}  (s_4)
          edge [loop below]           node {$a$}  ()
    ;
\end{tikzpicture}